{% extends 'index.html' %}
{% load static %}

{% block title %}Portfolio Details{% endblock %}
{% block body_class %}portfolio-details-page{% endblock %}

{% block content %}
<!-- Page Title -->
<div class="page-title" data-aos="fade">
    <div class="container">
        <nav class="breadcrumbs">
            <ol>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li class="current">Portfolio Details</li>
            </ol>
        </nav>
        <h1>Portfolio Details</h1>
    </div>
</div>

<!-- Portfolio Details Section -->
<section id="portfolio-details" class="portfolio-details">
    <div class="container" data-aos="fade-up">
        <div class="portfolio-details-slider swiper">
            <div class="swiper-wrapper align-items-center">
                {% for image in project.images.all %}
                <div class="swiper-slide">
                    <img src="{{ image.image.url }}" alt="">
                </div>
                {% endfor %}
            </div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-pagination"></div>
        </div>

        <div class="row justify-content-between gy-4">
            <div class="col-lg-8">
                <div class="portfolio-description">
                    <h2>{{ project.title }}</h2>
                    <p>{{ project.description }}</p>
                </div>
            </div>

            <div class="col-lg-3">
                <div class="portfolio-info">
                    <h3>Project information</h3>
                    <ul>
                        <li>
                            <strong>Category</strong>
                            <div class="mt-2">
                                {% for tag in project.tags.all %}
                                <span class="badge bg-light-subtle text-secondary me-1 mb-1" 
                                      style="font-size: 12px; padding: 6px 12px; border-radius: 20px; border: 1px solid #dee2e6;">
                                    {{ tag.name }}
                                </span>
                                {% endfor %}
                            </div>
                        </li>
                        <li><strong>Github Link</strong> <a href="{{ project.link }}">{{ project.link }}</a></li>
                        <li><a href="{{ project.link }}" class="btn-visit align-self-start">Visit Website</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Styles -->
<style>
    /* Container styles */
    .portfolio-details-slider {
        margin-bottom: 30px;
        width: 100%;
        /* Set a specific height for the slider container */
        height: 600px; /* Adjust this value based on your needs */
    }

    /* Wrapper styles */
    .swiper-wrapper {
        height: 100%;
    }

    /* Slide styles */
    .swiper-slide {
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Image styles */
    .portfolio-details .portfolio-details-slider img {
        width: 100%;
        height: 100%;
        object-fit: contain; /* Changed from 'cover' to 'contain' */
        max-height: 600px; /* Match container height */
    }
    
    .swiper-button-next,
    .swiper-button-prev {
        color: #000;
    }
    
    .swiper-pagination-bullet {
        background-color: #000;
    }
</style>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const swiper = new Swiper(".portfolio-details-slider", {
            speed: 400,
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            pagination: {
                el: ".swiper-pagination",
                type: "bullets",
                clickable: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });
    });
</script>
{% endblock %}